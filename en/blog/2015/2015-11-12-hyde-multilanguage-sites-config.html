<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>
        Hyde series: Multilanguage sites config (part 2)
        | Albert De La Fuente
    </title>
    <!-- >    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
     -->
        <link href="/media/css/bootstrap.min.css" rel="stylesheet">
    <link href="/media/css/font-awesome.min.css" rel="stylesheet">
    <link href="/media/css/animate.css" rel="stylesheet">
    <link href="/media/css/style.css" rel="stylesheet">
    <link href="/media/css/style-custom.css" rel="stylesheet">
    <link href="/media/css/pygments.css" rel="stylesheet">
    <link href="/media/css/flag-icon.min.css" rel="stylesheet">
        
        <link href="/en/blog/2015/2015-11-11-hyde-intro-setup.html" rel="prev">
            <link href="/pt/blog/mdm.html" rel="next">
    
        <link rel="alternate" type="application/rss+xml"
          href="/blog/index.xml" title="albert:/dev/blog">
    
            <meta property="og:title" content="Hyde series: Multilanguage sites config (part 2)">
    <meta property="og:description" content="On my prior post I showed how to setup Hyde. This is the next post of the Hyde series in which I will show how to setup a multi-language site with Hyde.">
    <meta property="og:image" content="http://www.albertdelafuente.com/media/images/blog/2015/dont-panic-learn-hyde.jpg">

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@vonpupp"/>
    <meta name="twitter:image:src" content='http://www.albertdelafuente.com/media/images/blog/2015/dont-panic-learn-hyde.jpg'/>
    <meta name="twitter:title" content="Hyde series: Multilanguage sites config (part 2)"/>
    <meta name="twitter:domain" content="albertdelafuente.com"/>
    <meta name="twitter:description" content="On my prior post I showed how to setup Hyde. This is the next post of the Hyde series in which I will show how to setup a multi-language site with Hyde."/>
                <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-27656036-2', 'auto', {'allowLinker': true});
      ga('send', 'pageview');
    </script>
          </head>
  <body class="archive">
        <!-- HEADER -->
    
    <header class="header header-dark no-sticky">
      <nav class="navbar container">
	<div class="navbar-header">
          <button class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button">
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	  </button>
	  <a class="navbar-brand" href="/">
            <img src="/media/images/avatar.jpg"
                 class="img-circle img-thumbnail"
                 alt="Albert De La Fuente">
            Albert De La Fuente
          </a>
        </div>
	<div id="navbar" class="navbar-collapse collapse">
	  <ul class="nav navbar-nav pull-right">
                                                                        <li>
              <a href="/en/about">
                                <span class="glyphicon glyphicon-user"></span>
                                About
              </a>
            </li>
                                    <li class="active">
              <a href="/en/blog">
                                <span class="glyphicon glyphicon-pencil"></span>
                                Blog
              </a>
            </li>
                                    <li>
              <a href="/en/tags">
                                
              </a>
            </li>
            <!--    <li>
    <div id="lf-menubar">
      <form id="lf-search" action="//www.google.com/search">
        <i id="lf-search-glass"><input type="submit" class="lf-sprite-search" value=""></i>
        <input type="hidden" name="hl" value="en">
	    <input type="hidden" name="q"  value="site:albertdelafuente.com/en/*">
	    <input id="lf-search-query" type="text" name="q" value="">
      </form>
    </div>
    </li> -->
          </ul>
	</div>

  
      </nav>
    </header>

<!--  vim: set filetype=htmldjango: -->    <!-- /.header -->

    <!-- WRAPPER -->
    <div class="wrapper">

                  <div class="headcontent headcontent-md bg-sl-center overlay"
           style="background-image: url('/media/images/blog/2015/dont-panic-learn-hyde.jpg');">
	<div class="container inforow">
	  <div class="col-sm-10">
	    <h1 class="white">
                  Hyde series: Multilanguage sites config (part 2)
                  </h1>
	  </div>
	  <div class="col-sm-2 text-right">
	    <ol class="breadcrumb breadcrumb-arrow">
                                                                                                  <li>
                <a href="/en/blog">
                                    Blog
                </a>
              </li>
                                                        <li class="active">
                <a href="/en/blog/2015">
                                    2015
                </a>
              </li>
                            	    </ol>
          </div>
        </div>
      </div>

        <div class="container post">
    <header class="entry-header">
      <div class="meta">
        <small><i class="fa fa-calendar"></i>Thursday 12 November 2015</small>
        <small>
          <i class="fa fa-folder"></i>
                                            <a href="/en/tags/Hyde.html">
            Hyde</a>
            ,                                  <a href="/en/tags/Python.html">
            Python</a>
                              </small>
                <a href="http://www.albertdelafuente.com/en/blog/2015/2015-11-12-hyde-multilanguage-sites-config.html#disqus_thread">
          <i class="fa fa-comment"></i> Comments
        </a>
                <span>
          <i class="fa fa-user-plus"></i> 
        </span>
                <div class="addthis_horizontal_follow_toolbox"
             style="margin-top: -25px;
             margin-left: -25px;">
        </div>
              </div>
    </header>
    <div class="entry-content padding-bottom">
            <h2>Intro</h2>
<p>On my prior post I showed how to setup Hyde. This is the next post of the
Hyde series in which I will show how to setup a multi-language site with
Hyde.</p>
<p>I want acknowledge that I have taken some parts from the setup of <a href="http://vincent.bernat.im">Vincent
Bernat</a> and thank <a href="https://github.com/lakshmivyas">@lakshmivyas</a> for his great help, support and patience
helping me out with the multi-language support.</p>
<h2>Tutorial overview</h2>
<ol>
<li><a href="2015-11-11-hyde-intro-setup.html">Intro and setup</a></li>
<li><a href="2015-11-12-hyde-multilanguage-sites-config.html">Multilanguage sites config</a></li>
</ol>
<h2>Assumptions</h2>
<p>I assume that you read the prior post(s) of the <a href="/en/tags/Hyde.html">Hyde series</a>. Therefore I won't
go into details about the installation again and just focus on explaining how
multi-language with Hyde works. Just to recap, this is the second part of the
series.</p>
<h2>Folder structure</h2>
<p>I will explain the details of the parts to understand how it works. I will show
a simplified overview of the folder. Some folders have been removed to keep
things clean.</p>
<div class="highlight"><pre><span class="nv">$ </span>tree -d .<br />.<br />├── content<br />│   ├── en<br />│   │   ├── blog<br />│   │   ├── home<br />│   │   ├── jumbo<br />│   │   ├── offcanvas<br />│   │   └── tags<br />│   ├── fr<br />│   │   ├── blog<br />│   │   ├── home<br />│   │   ├── jumbo<br />│   │   ├── offcanvas<br />│   │   └── tags<br />│   └── media<br />│       ├── css<br />│       ├── img<br />│       └── js<br />├── deploy<br />└── layout<br /></pre></div>

<p><br />
* The <code>Content</code> folder:</p>
<pre><code>This folder also contains the `media` folder which will hold the CSS, images and
Javascript files. It also contain one folder per language.  These type of
folders will be explain in the next section.

The main `index.html` only runs a script to detect the browser language an
redirect to the appropriate language version of the website. If the browser
language does not match an existing language it will fallback to the default
which is English.
</code></pre>
<ul>
<li>
<p>The <code>Language</code> folders</p>
<p>As I said there is a language folder for each language you want to use. For
simplicity I used only two letters language coding standard, <code>en</code> and <code>fr</code> in
this example. Within each language folder is the structure of the website itself
(the <code>sections</code>).</p>
</li>
<li>
<p>The <code>Sections</code> folders</p>
<p>Within each language you will find the structure of the website where each section is
a folder.</p>
</li>
</ul>
<h2>Content</h2>
<p>Both the language folder and the sections must contain a <code>meta.yaml</code> that
describe that particular part of the website.</p>
<h4>The <code>language</code> metafile</h4>
<p>Each <code>language</code> folder must contain a <code>meta.yaml</code> file with some basic content
(YMMV). This is an example of the <code>en</code> meta.yaml file.</p>
<div class="highlight"><pre><span class="l-Scalar-Plain">extends</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base.j2</span><br /><span class="l-Scalar-Plain">default_block</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">blog</span><br />&nbsp;<br /><span class="l-Scalar-Plain">language</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">en</span><br />&nbsp;<br /><span class="l-Scalar-Plain">l10n</span><span class="p-Indicator">:</span><br />  <span class="l-Scalar-Plain">created_by</span><span class="p-Indicator">:</span> <span class="s">&quot;Created</span><span class="nv"> </span><span class="s">by&quot;</span><br />  <span class="l-Scalar-Plain">posted</span><span class="p-Indicator">:</span> <span class="s">&quot;Posted&quot;</span><br />  <span class="l-Scalar-Plain">tags</span><span class="p-Indicator">:</span> <span class="s">&quot;Tags&quot;</span><br />  <span class="l-Scalar-Plain">readmore</span><span class="p-Indicator">:</span> <span class="s">&quot;Read</span><span class="nv"> </span><span class="s">more&quot;</span><br />  <span class="l-Scalar-Plain">translations</span><span class="p-Indicator">:</span> <span class="s">&quot;Also</span><span class="nv"> </span><span class="s">available</span><span class="nv"> </span><span class="s">in&quot;</span><br /></pre></div>

<p><br />
The most important parts here are the <code>language</code> section which should match the
name of the <code>language</code> folder. The <code>localization</code> (or <code>l10n</code> for short), which
contains the <code>strings</code> that are common to the template but need to be
translated.</p>
<h4>The <code>section</code> metafile</h4>
<p>In a similar way, each section must contain a <code>meta.yaml</code> file. Here is an
example of the <code>blog</code> section.</p>
<div class="highlight"><pre><span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Blog</span><br /><span class="l-Scalar-Plain">extends</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">blog.j2</span><br /><span class="l-Scalar-Plain">listable</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span><br /></pre></div>

<p><br />
The idea is
similar, however this file only contains:</p>
<ul>
<li>The <code>title</code> of that section. This will appear on the menu when it is
dynamically parsed</li>
<li>From which Jinja template <code>extends</code> from (blog.j2),</li>
<li><code>listable</code> in case the section must not appear on the menu</li>
</ul>
<p>Of course you can tailor this to your needs, to add for instance an icon for
each section or split the localization another level or any other information
used by that section. The limit is your imagination.</p>
<h4>The <code>site.yaml</code> file</h4>
<p>Now that you are familiar with the folder structure and files for each language
we will see how to link everything together on the <code>site.yaml</code> file. You can
find this file on the root of the project (parent of the <code>content</code> folder).</p>
<p>Among the basic sections of every Hyde project this file must use the
<code>hyde.ext.plugins.languages.LanguagePlugin</code>.</p>
<p>If you have a blog and you need to parse the tags, then you will have to
include the <code>tagger</code> section and the <code>archives</code> section within it (<code>tagger.archive</code> for
short). Inside you need to include the following block (per each language):</p>
<div class="highlight"><pre>context:<br />  data:<br />    ...<br />    languages:<br />      fr: Français<br />      en: English<br />&nbsp;<br />tagger:<br />  sorter: <span class="nb">time</span><br /><span class="nb">  </span>archives:<br />    blog_en:<br />      <span class="nb">source</span>: en/blog<br />      target: en/tags<br />      template: tagged_posts.j2<br />      extension: html<br />  tags:<br />    <span class="s2">&quot;happy&quot;</span>:<br />      descr_en: <span class="s2">&quot;Happy&quot;</span><br />      descr_fr: <span class="s2">&quot;Content&quot;</span><br />    <span class="s2">&quot;angry&quot;</span>:<br />      descr_en: <span class="s2">&quot;Angry&quot;</span><br />      descr_fr: <span class="s2">&quot;Colère&quot;</span><br />    <span class="s2">&quot;sad&quot;</span>:<br />      descr_en: <span class="s2">&quot;Sad&quot;</span><br />      descr_fr: <span class="s2">&quot;Triste&quot;</span><br />    <span class="s2">&quot;thoughts&quot;</span>:<br />      descr_en: <span class="s2">&quot;Thoughts&quot;</span><br />      descr_fr: <span class="s2">&quot;Pensées&quot;</span><br /></pre></div>

<p><br />
The <code>context.data.languages</code> must list the languages available on the
website.</p>
<p>The <code>tagger.archives.template</code> used here will be rendered when you click on a
tag, in this case is just a simple list of the posts with that particular tag.
Of course there are other parts on the file but this post focus only on the
multi-language features.</p>
<h4>The metadata of a post</h4>
<p>Each post must be within a <code>language</code> folder and a <code>section</code> folder. If a
particular post has a translation, then it should have a unique identifier that
somehow links those posts. This is what the <code>uuid</code> field is for. Here is an
example</p>
<div class="highlight"><pre><span class="x">---</span><br /><span class="x">title: A Happy Post</span><br /><span class="x">created: !!timestamp &#39;2011-02-01 10:00:00&#39;</span><br /><span class="x">uuid: 7ef1dd49-92be-4aea-b96f-f91ab1b84f06</span><br /><span class="x">tags:</span><br /><span class="x">    - happy</span><br /><span class="x">    - thoughts</span><br /><span class="x">---</span><br />&nbsp;<br /><span class="cp">{%</span> <span class="k">mark</span> <span class="nv">image</span> -<span class="cp">%}</span><span class="x"></span><br />&nbsp;<br /><span class="x">![Airport](</span><span class="cp">{{</span> <span class="nv">media_url</span><span class="o">(</span><span class="s1">&#39;img/airport.png&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">)</span><br />&nbsp;<br /><span class="cp">{%</span>- <span class="k">endmark</span> <span class="cp">%}</span><span class="x"></span><br />&nbsp;<br /><span class="cp">{%</span> <span class="k">mark</span> <span class="nv">excerpt</span> -<span class="cp">%}</span><span class="x"></span><br />&nbsp;<br /><span class="x">Lady Malvern was a hearty, happy, healthy, overpowering sort of dashed female,</span><br /><span class="x">not so very tall but making up for it by measuring about six feet from the</span><br /><span class="x">O.P. to the Prompt Side.</span><br />&nbsp;<br /><span class="cp">{%</span>- <span class="k">endmark</span> <span class="cp">%}</span><span class="x"></span><br />&nbsp;<br /><span class="x">She fitted into my biggest arm-chair as if it had</span><br /><span class="x">been built round her by someone who knew they were wearing arm-chairs tight</span><br /></pre></div>

<p><br />
Note the <code>uuid</code> field mentioned before, as the tags. The tags as I already said
can also be translated if necessary.</p>
<h2>Tagging</h2>
<p>Here is an interesting snippet pattern kindly contributed by [@laksmivyas]. The
first part creates a dict of the items (i.e: posts or pages) within a language.</p>
<div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">tag_dict</span> <span class="o">=</span> <span class="o">{}</span> <span class="cp">%}</span><span class="x"></span><br /><span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span><span class="o">,</span> <span class="nv">meta</span> <span class="k">in</span> <span class="nv">site.tagger.tags</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">tag_res</span> <span class="o">=</span> <span class="o">[]</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">res</span> <span class="k">in</span> <span class="nv">meta.resources</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">        </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">lang_root</span> <span class="o">=</span> <span class="nv">site.content.source_folder.child_folder</span><span class="o">(</span><span class="nv">res.meta.language</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">        </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">resource.node.source_folder.is_descendant_of</span><span class="o">(</span><span class="nv">lang_root</span><span class="o">)</span> <span class="k">or</span> <span class="nv">resource.node.source_folder</span> <span class="o">==</span> <span class="nv">lang_root</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">            </span><span class="cp">{%</span> <span class="k">do</span> <span class="nv">tag_res.append</span><span class="o">(</span><span class="nv">res</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span><br /><span class="x">    </span><span class="cp">{%</span> <span class="k">do</span> <span class="nv">tag_dict.update</span><span class="o">({</span><span class="nv">meta.name</span><span class="o">:</span> <span class="nv">tag_res</span><span class="o">})</span> <span class="cp">%}</span><span class="x"></span><br /><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span><br /></pre></div>

<p><br />
Then to query all the posts tagged as 'system' is as simple as
<code>tag_dict['system']</code>. To list those items is as simple as:</p>
<div class="highlight"><pre><span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">&quot;archives&quot;</span><span class="nt">&gt;</span><br />    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">lang</span> <span class="o">=</span> <span class="nv">resource.meta.language</span> <span class="cp">%}</span><br />    <span class="nt">&lt;h1&gt;</span><br />        <span class="cp">{{</span> <span class="nv">site.tagger.tags</span><span class="o">[</span><span class="nv">tag.name</span><span class="o">]|</span><span class="nf">attr</span><span class="o">(</span><span class="s2">&quot;descr_&quot;</span> <span class="o">+</span> <span class="nv">lang</span><span class="o">)|</span><span class="nf">e</span> <span class="cp">}}{{</span> <span class="nv">site.tagger.tags</span><span class="o">[</span><span class="nv">tag.name</span><span class="o">]</span><span class="nv">.descr</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><br />    <span class="nt">&lt;/h1&gt;</span><br />    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">resource</span> <span class="k">in</span> <span class="nv">tag_dict</span><span class="o">[</span><span class="nv">tag.name</span><span class="o">]</span> -<span class="cp">%}</span><br />        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row-fluid&quot;</span><span class="nt">&gt;</span><br />            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;span2&quot;</span><span class="nt">&gt;</span><br />                <span class="nt">&lt;small&gt;</span><br />                    <span class="nt">&lt;time</span> <span class="na">datetime=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">resource.meta.created.strftime</span><span class="o">(</span><span class="s1">&#39;%Y-%m-%d&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><br />                        <span class="cp">{{</span> <span class="nv">resource.meta.created.strftime</span><span class="o">(</span><span class="s1">&#39;%a, %d %b %Y&#39;</span><span class="o">)</span> <span class="cp">}}</span><br />                    <span class="nt">&lt;/time&gt;</span><br />                <span class="nt">&lt;/small&gt;</span><br />            <span class="nt">&lt;/div&gt;</span><br />            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;span7&quot;</span><span class="nt">&gt;</span><br />                <span class="nt">&lt;strong&gt;</span><br />                    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">content_url</span><span class="o">(</span><span class="nv">resource.url</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">resource.meta.title</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span><br />                <span class="nt">&lt;/strong&gt;</span><br />            <span class="nt">&lt;/div&gt;</span><br />            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;span3&quot;</span><span class="nt">&gt;</span><br />                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;pull-right&quot;</span><span class="nt">&gt;</span><br />                    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">resource.meta.tags</span> <span class="cp">%}</span><br />                        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">resource.meta.tags</span> <span class="cp">%}</span><br />                            <span class="cp">{%</span> <span class="k">set</span> <span class="nv">tag_url</span> <span class="o">=</span> <span class="nv">lang</span> <span class="o">+</span> <span class="nv">content_url</span><span class="o">(</span><span class="s1">&#39;tags/&#39;</span><span class="o">~</span><span class="nv">tag</span><span class="o">~</span><span class="s1">&#39;.html&#39;</span><span class="o">)</span> <span class="cp">%}</span><br />                            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;badge badge-inverse&quot;</span><span class="nt">&gt;</span><br />                                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/</span><span class="cp">{{</span> <span class="nv">tag_url</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><br />                                    <span class="cp">{{</span> <span class="nv">site.tagger.tags</span><span class="o">[</span><span class="nv">tag</span><span class="o">]|</span><span class="nf">attr</span><span class="o">(</span><span class="s2">&quot;descr_&quot;</span> <span class="o">+</span> <span class="nv">lang</span><span class="o">)|</span><span class="nf">e</span> <span class="cp">}}{{</span> <span class="nv">site.tagger.tags</span><span class="o">[</span><span class="nv">tag</span><span class="o">]</span><span class="nv">.descr</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><br />                                <span class="nt">&lt;/a&gt;</span><br />                            <span class="nt">&lt;/span&gt;</span><br />                        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><br />                    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><br />                <span class="nt">&lt;/div&gt;</span><br />            <span class="nt">&lt;/div&gt;</span><br />        <span class="nt">&lt;/div&gt;</span><br />    <span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><br /><span class="nt">&lt;/section&gt;</span><br /></pre></div>

<p><br />
As you can see the <code>h1</code> tags hold the tag title, which can be obtained as <code>site.tagger.tags[tag.name]|attr("descr_" + lang)|e</code>. This first part uses the
<code>descr_&lt;lang&gt;</code> local translation. If this translation do not exist, then the
second part <code>site.tagger.tags[tag.name].descr|e</code>. The first part uses the falls
back to the standard <code>descr</code> translation.</p>
<h2>'This post is also available in another language'</h2>
<p>If you want to show the languages available for a specific post is as simple as:</p>
<div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">resource.translations</span> <span class="cp">%}</span><br />    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;langnavbar&quot;</span> <span class="na">class=</span><span class="s">&quot;nav navbar-nav pull-right navbar-lang navbar-collapse collapse&quot;</span><span class="nt">&gt;</span><br />        <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;nav navbar-nav pull-right navbar-lang&quot;</span><span class="nt">&gt;</span><br />            <span class="nt">&lt;li&gt;</span><br />                <span class="cp">{{</span> <span class="nv">resource.meta.l10n.translations</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span>:<br />            <span class="nt">&lt;/li&gt;</span><br />            <span class="cp">{%</span> <span class="k">for</span> <span class="nv">translation</span> <span class="k">in</span> <span class="nv">resource.translations</span> <span class="cp">%}</span><br />                <span class="nt">&lt;li&gt;</span><br />                    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">content_url</span><span class="o">(</span><span class="nv">translation.url</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">languages</span><span class="o">[</span><span class="nv">translation.meta.language</span><span class="o">]</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span><br />                <span class="nt">&lt;/li&gt;</span><br />            <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><br />        <span class="nt">&lt;/ul&gt;</span><br />    <span class="nt">&lt;/div&gt;</span><br /><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><br /></pre></div>

<p><br />
The first <code>li</code> item is the string 'This post is also available in' itself,
which by the way, should also be translated and therefore it has been pulled to
the <code>meta.yaml</code> at the <code>language</code> level (<code>Also available in</code> variable). The <code>resources.translations</code> dictionary contain the languages available for a particular <code>uuid</code>.</p>
<h2>Rendering the menu</h2>
<p>The menu of course it is also multi-language. It is dynamically parsed by the following macro:</p>
<div class="highlight"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">render_main_menu</span><span class="o">()</span> -<span class="cp">%}</span><br />    <span class="nt">&lt;li&gt;</span><br />        <span class="cp">{{</span> <span class="nv">resource.meta.language</span> <span class="cp">}}</span><br />    <span class="nt">&lt;/li&gt;</span><br />    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">lang_root</span> <span class="o">=</span> <span class="nv">site.content.node_from_relative_path</span><span class="o">(</span><span class="nv">resource.meta.language</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;en&#39;</span><span class="o">))</span> <span class="cp">%}</span><br />    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">menu_item</span> <span class="k">in</span> <span class="nv">lang_root.child_nodes</span><span class="o">|</span><span class="nf">sort</span><span class="o">(</span><span class="nv">attribute</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="o">)</span> <span class="cp">%}</span><br />        <span class="cp">{%</span> <span class="k">if</span> <span class="nv">menu_item.meta.listable</span> <span class="cp">%}</span><br />            <span class="nt">&lt;li</span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">menu_item.full_url</span> <span class="k">in</span> <span class="nv">resource.full_url</span> <span class="cp">%}</span> <span class="na">class=</span><span class="s">&quot;active&quot;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="nt">&gt;</span><br />                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">menu_item.full_url</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><br />                    <span class="cp">{{</span> <span class="nv">menu_item.meta.title</span><span class="o">|</span><span class="nf">capitalize</span> <span class="cp">}}</span><br />                <span class="nt">&lt;/a&gt;</span><br />            <span class="nt">&lt;/li&gt;</span><br />        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><br />    <span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><br /><span class="cp">{%</span>- <span class="k">endmacro</span> <span class="cp">%}</span><br /></pre></div>

<p><br />
Basically this will list all the <code>sections</code> within a <code>language</code> and will show
the correspondent title of that section. This is found on the <code>meta.yaml</code> file
of that section.</p>
<h2>Conclusions</h2>
<p>As you can see it is not that hard to build a multi-language site with Hyde. I
believe that in future releases this multi-language feature will be embedded
within Hyde core. This could make things even easier for the user, we will see.</p>
<p>Thanks for reading. Spot an error or want to explain something better, feel
free to send me a PR.</p>
<!--  vim: set spell: -->

<!--  vim: set spelllang=en: -->

<!--  vim: set filetype=htmldjango: -->          </div>

          <div id="thgtp-form" class="row well text-center">
        <div class="col-sm-8">
          <h3>
            <a href="/services/development">
              Check out <strong>the Services</strong> section!
            </a>
          </h3>
          <p>
            If you need development services... Interested?<br><br>
            <br>
            <br>
            <a role="button" class="btn btn-default"
               href="/services/development">Contact</a>
          </p>
        </div>
        <div class="col-sm-4 text-center">
          <a href="/services/development">
            <img src="/media/images/services/development.jpg"
                 alt="Development Services">
          </a>
        </div>
      </div>

      <div class="padding"></div>
      </div>

  <div id="subscribe" class="newsletter bg-sl-center overlay overlay-light"
       style="background-image: url('/media/images/services/photo-notepad.jpg');">
    <div class="container inforow middle">
      <div class="col-sm-6">
	<p>Get notified of my next blog post</p>
      </div>
      <div class="col-sm-6">
	<div id="feedback-form">
	  <form action="//albertdelafuente.us12.list-manage.com/subscribe/post?u=2078b40de4d18256fef954d6e&amp;id=bdd2d44f54" method="post">
	    <input name="EMAIL" placeholder="Enter your email address" required type="email">
	    <button type="submit" class="btn btn-default">Subscribe</button>
	  </form>
	  <div class="success-block"></div>
	</div>
      </div>
    </div>
  </div>

    <div class="container" id="disqus_thread"></div>

  <script type="text/javascript">
    var disqus_shortname = 'vonpupp';

    (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by
      Disqus.</a></noscript>
  
    <div class="addthis_recommended_horizontal"></div>
  
          </div>
    <!-- /.wrapper -->

    <!-- FOOTER -->
    <footer class="footer footer-dark">
      <div class="container">

	<hr />

	<div class="row">
	  <div class="col-sm-8">
	    <p class="copyright">
              This work is licensed under a
              <a rel="license"
                 href="//creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative
                Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
	  </div>
	  <div class="col-sm-4 text-right">
	    <nav>
	      Follow Me
          <div class="addthis_horizontal_follow_toolbox"
               style="float: right;">
          </div>
	    </nav>
	  </div>
	</div>
      </div>
    </footer>
    <!-- /.footer -->

    <!-- ScrollTop -->
    <a href="#" class="scrolltop"><i></i></a>

    
          <!-- SCRIPTS -->
    <script src="/media/js/jquery-2.1.3.min.js"></script>
    <script src="/media/js/bootstrap.min.js"></script>
    <script src="/media/js/plugins.js"></script>
    <script src="/media/js/custom.js"></script>
    <script src="/media/js/bootstrap-tab-bookmark.js"></script>

    
    

    <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <script type="text/javascript"
    src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5626d7f3b1c34ff8"
    async="async">
  </script>
  
    <script type="text/javascript">
    var disqus_shortname = 'vonpupp';

    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
  </script>
  
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  
  </body>
</html>